{% extends './base_template.html' %}

{% load static %}
{% block css_additional %}
    <link rel="stylesheet" href="{% static 'business/css/account_page.css' %}">
    <link rel="stylesheet" href="{% static 'business/css/include_css/account_page/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'business/css/team_policies.css' %}">
    <link rel="stylesheet" href="{% static 'business/css/include_css/team_policies/help_popup.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
          rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
{% endblock %}

{% block js_additional %}
    <script src="{% static 'business/js/team_policies/close_open_help_popup.js' %}"></script>
{% endblock %}

{% block body %}
    <section id="main">
        <div class="content">
            <div class="navbar-container">
                {% include './_includes/account_page/navbar.html' %}
            </div>
             <div class="rest-container">
                <div class="top-layer">
                    <div class="title-container">
                        <h1 class="section-title">Правила</h1>
                    </div>
                    <div class="btn-container">
                        <a href="javascript: void(0);" class="layer-btn" id="help">
                            <span class="btn-icon">
                                <svg class="tw-icon-svg"
                                     width="24" height="24"
                                     fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="9"
                                            fill="#2F313F">
                                    </circle>
                                    <circle cx="12" cy="17" r=".5" stroke="#F4F4F6">
                                    </circle>
                                    <path d="M12 14v-.654c0-.813.495-1.544 1.25-1.846v0a1.988 1.988 0 0 0 1.25-1.846v-.269A2.385 2.385 0 0 0 12.115 7H12a2.5 2.5 0 0 0-2.5 2.5v.5"
                                          stroke="#F4F4F6"
                                          stroke-width="2"
                                          stroke-linecap="round"
                                          stroke-linejoin="round">
                                    </path>
                                </svg>
                            </span>
                            Допомога
                        </a>
                        {% include './_includes/team_policies/help_popup.html' %}
                        <a href="javascript:void(0);" class="layer-btn" id="add-policy">
                            Додати правило
                        </a>
                    </div>
                </div>
                 <div class="search-field">
                     <form class="search-form" id="search-policy-form">
                         <span class="search-icon">
                             <svg class="tw-icon-svg" viewBox="0 0 24 24"
                                  fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                 <path d="M20.8 19.3L16.5 15c1-1.3 1.5-2.8 1.5-4.5C18 6.4 14.6 3 10.5 3S3 6.4 3 10.5 6.4 18 10.5 18c1.7 0 3.3-.6 4.5-1.5l4.3 4.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.5-.5.5-1.1.1-1.5zM10.6 16c-3 0-5.5-2.5-5.5-5.5S7.6 5 10.6 5s5.5 2.5 5.5 5.5-2.5 5.5-5.5 5.5z"
                                       fill="currentColor">
                                 </path>
                             </svg>
                         </span>
                         <input name="q" placeholder="Пошук за іменем" />
                         <span class="cancel-input-btn">
                             <svg class="tw-icon-svg"
                                  viewBox="0 0 24 24" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm4.786-13.786L13 12l3.786 3.786a.69.69 0 0 1 0 1 .771.771 0 0 1-.5.214.772.772 0 0 1-.5-.214L12 13l-3.786 3.786a.648.648 0 0 1-.5.214.648.648 0 0 1-.5-.214.69.69 0 0 1 0-1L11 12 7.214 8.214a.69.69 0 0 1 0-1 .69.69 0 0 1 1 0L12 11l3.786-3.786a.69.69 0 0 1 1 0 .69.69 0 0 1 0 1z"
                                      fill="currentColor">
                                </path>
                             </svg>
                         </span>
                     </form>
                 </div>
                 <div class="policies_section">
                     {% if policies %}
                        {% for policy in policies %}
                            <a href="{% url 'edit_policy' owner.owner_id policy.policy_id  %}" class="edit-policy">
                                <div class="policy">
                                    <div class="header">
                                        <h6 class="policy-header">
                                            {{ policy.policy_title }}
                                        </h6>
                                        <div class="people-count">
                                            <span class="user-icon">
                                                <svg class="tw-icon-svg"
                                                     viewBox="0 0 24 24"
                                                     fill="none"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                          clip-rule="evenodd"
                                                          d="M3 8a4 4 0 1 1 8 0 4 4 0 0 1-8 0zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM17 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0zM21.92 13.663A3 3 0 0 0 19.99 13h-5.997a3 3 0 0 0-2.925 2.414v.001l-.44 2.187A1.999 1.999 0 0 0 12.62 20h8.742a2.002 2.002 0 0 0 2.059-2.4l-.44-2.186a3 3 0 0 0-1.06-1.751zM20.02 15a1 1 0 0 1 1 .805l.44 2.192v.006a.98.98 0 0 0-.07-.003H12.59v-.003l.44-2.19v-.002a1 1 0 0 1 .973-.805H20.02z"
                                                          fill="currentColor">
                                                    </path>
                                                    <path d="M8.39 13H4.009a3 3 0 0 0-2.995 2.443L.646 17.62A2 2 0 0 0 2.638 20H7.72a1 1 0 1 0 0-2H2.61l.006-.033.367-2.174A1 1 0 0 1 3.981 15H8.39a1 1 0 1 0 0-2z"
                                                          fill="currentColor">
                                                    </path>
                                                </svg>
                                                1
                                            </span>
                                        </div>
                                    </div>
                                    <span class="right-arrow">
                                        <svg class="tw-icon-svg"
                                             viewBox="0 0 24 24"
                                             fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M11 19a1 1 0 0 0 .71-.29l6-6a.999.999 0 0 0 0-1.42l-6-6a1.004 1.004 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1.002 1.002 0 0 0 .326 1.636A1 1 0 0 0 11 19z"
                                                  fill="currentColor">
                                            </path>
                                        </svg>
                                    </span>
                                </div>
                                <p class="policy-desc">
                                        {{ policy.policy_description }}
                                </p>
                            </a>
                        {% endfor %}
                     {% endif %}
                 </div>
             </div>
        </div>
    </section>
{% endblock %}